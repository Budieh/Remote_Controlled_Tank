% matrice ale caror linii vor reprezenta raspunsul sistemului pentru o
% intrare treapta de 60% ( echivalent cu 38.46 RPM ) pentru a testa
% raspunsul motorului fara sarcina
readings_no_load = zeros(3,200);

% populam randurile matricei cu date obtinute din terminal
readings_no_load(1,:) = [0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.5714 5.1429 8.5714 10.2857 11.4286 13.7143 14.2857 16.0000 17.1429 18.8571 20.0000 21.1429 22.8571 24.0000 25.1429 26.8571 28.0000 29.1429 30.2857 32.0000 33.7143 34.2857 36.0000 37.1429 38.8571 40.0000 41.1429 42.8571 43.4286 45.1429 45.1429 45.7143 45.7143 45.7143 45.7143 45.1429 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.1429 45.7143 45.7143 45.7143 45.7143 45.1429 45.7143 45.7143 45.7143 45.1429 45.1429 44.5714 43.4286 42.8571 41.7143 41.1429 40.5714 38.8571 38.2857 37.7143 37.7143 36.5714 37.1429 37.1429 36.5714 36.0000 36.0000 36.0000 36.0000 36.0000 36.0000 37.1429 37.7143 38.2857 39.4286 39.4286 38.8571 39.4286 38.8571 38.2857 37.7143 37.7143 38.8571 38.8571 40.0000 40.5714 40.5714 39.4286 39.4286 39.4286 39.4286 38.8571 38.2857 37.7143 37.1429 36.5714 36.5714 36.5714 36.5714 37.1429 38.8571 38.8571 40.0000 39.4286 40.5714 40.0000 40.0000 39.4286 40.0000 39.4286 39.4286 39.4286 38.8571 38.2857 37.1429 36.0000 36.0000 36.5714 36.5714 36.5714 36.5714 36.0000 36.5714 36.5714 36.5714 37.1429 37.1429 37.7143 38.2857 39.4286 40.5714 41.1429 41.1429 41.1429 41.1429 40.5714 40.5714 41.1429 40.5714 40.0000 38.8571 38.8571 38.2857 38.8571 38.2857 38.2857 38.2857 38.2857 38.8571 38.2857 38.2857 37.7143 38.2857 38.2857 38.8571 39.4286 38.8571 38.8571 38.2857 37.1429 37.1429 36.0000 36.0000 34.8571 34.2857 34.8571 35.4286 36.5714 36.5714 37.7143 38.2857 38.2857 39.4286 39.4286 40.0000 40.5714 40.5714 41.1429 41.1429 40.5714 40.0000 39.4286];
readings_no_load(2,:) = [0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 1.1429 6.2857 8.5714 10.8571 12.0000 13.7143 14.8571 16.0000 17.7143 18.8571 20.0000 21.7143 22.8571 24.0000 25.7143 26.8571 28.0000 29.7143 30.8571 32.0000 33.7143 34.8571 36.0000 37.7143 38.8571 40.0000 41.1429 42.8571 44.5714 45.1429 45.1429 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 46.2857 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.7143 45.1429 45.7143 45.7143 45.7143 45.1429 45.1429 44.5714 44.0000 42.8571 42.8571 41.1429 41.1429 40.0000 39.4286 38.2857 37.1429 37.1429 37.1429 37.7143 38.2857 38.2857 38.2857 37.7143 37.7143 37.1429 37.7143 38.8571 38.8571 40.0000 39.4286 38.8571 38.8571 39.4286 38.2857 38.8571 38.2857 37.7143 36.5714 36.0000 36.5714 36.0000 36.5714 37.1429 37.7143 37.7143 38.8571 38.2857 39.4286 40.0000 39.4286 38.8571 38.2857 37.7143 37.1429 37.7143 38.8571 38.2857 38.2857 38.2857 38.8571 38.2857 38.2857 38.8571 38.8571 38.8571 38.8571 38.8571 40.0000 40.0000 40.0000 40.0000 39.4286 38.8571 39.4286 38.8571 38.2857 38.2857 37.1429 37.1429 36.0000 36.5714 37.1429 37.7143 38.8571 38.8571 38.8571 40.0000 39.4286 40.0000 39.4286 38.2857 38.2857 37.7143 37.7143 38.8571 38.8571 39.4286 38.8571 37.7143 37.1429 36.5714 36.5714 36.5714 36.5714 36.0000 36.0000 36.0000 36.0000 37.7143 37.7143 37.1429 37.1429 38.2857 38.2857 38.8571 39.4286 40.5714 41.1429 40.5714 40.5714 40.5714 40.0000 39.4286 38.8571 38.2857 37.7143 38.2857 37.1429 37.7143 36.5714 37.1429 37.7143 37.7143 38.2857 38.2857 38.8571 38.8571 38.8571 38.8571];
readings_no_load(3,:) = [0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 1.7143 6.2857 8.5714 10.8571 12.5714 13.1429 15.4286 16.0000 17.7143 19.4286 20.0000 21.7143 23.4286 24.5714 25.7143 26.8571 28.5714 29.7143 31.4286 32.5714 33.7143 34.8571 36.5714 38.2857 38.8571 40.5714 41.7143 43.4286 44.5714 45.1429 46.2857 45.7143 45.7143 46.2857 45.7143 46.2857 45.7143 46.2857 45.7143 46.2857 46.2857 45.7143 46.2857 45.7143 46.2857 45.7143 46.2857 45.7143 46.2857 45.7143 45.7143 46.2857 45.7143 45.7143 46.2857 45.7143 45.7143 45.7143 45.1429 44.0000 43.4286 42.8571 41.7143 40.5714 39.4286 39.4286 38.2857 37.1429 36.5714 36.0000 35.4286 34.8571 34.8571 34.8571 34.8571 36.0000 37.1429 37.7143 38.2857 39.4286 39.4286 39.4286 40.0000 40.0000 40.0000 40.0000 39.4286 40.0000 39.4286 39.4286 38.8571 38.2857 37.7143 38.2857 38.2857 38.2857 38.2857 38.8571 38.8571 38.8571 39.4286 38.8571 38.8571 38.2857 38.2857 38.2857 37.7143 38.2857 38.2857 38.8571 39.4286 38.8571 38.2857 38.2857 38.2857 38.8571 38.2857 37.7143 37.7143 37.1429 37.7143 37.7143 37.7143 38.2857 37.7143 38.2857 38.2857 38.8571 38.8571 38.8571 38.8571 38.2857 38.8571 38.8571 38.8571 38.8571 38.8571 38.2857 38.2857 38.2857 37.7143 38.2857 38.2857 38.2857 38.2857 38.8571 38.8571 39.4286 39.4286 38.8571 39.4286 39.4286 38.8571 38.8571 38.8571 38.8571 38.2857 37.7143 37.7143 37.1429 37.1429 38.2857 37.7143 38.2857 38.2857 38.2857 38.2857 38.8571 39.4286 39.4286 39.4286 38.8571 38.8571 37.7143 37.7143 37.7143 37.7143 37.1429 37.1429 37.7143 37.1429 37.1429 37.1429 36.5714 37.1429 37.7143 38.2857 38.8571];

% vector ce contine suportul de timp ( de la 0 la 9.95 secunde cu pasul de
% 0.05 secunde )
time = 0 : 0.05 : 9.95;

% reprezentam grafic datele obtinute anterior
figure('Name','Raspuns sistem fara sarcina','NumberTitle','off')
plot(time,readings_no_load(1,:),'LineWidth',1,'Color','b');
hold on;
plot(time,readings_no_load(2,:),'LineWidth',1,'Color','r');
plot(time,readings_no_load(3,:),'LineWidth',1,'Color','g');
plot(time,38.4615 * double(time >= 0.15),'LineWidth',1,'Color','m');
xlabel('Timp [s]');
ylabel('Turatie [RPM]');
legend('Citire I','Citire II','Citire III','Referinta');
title('Raspuns sistem fara sarcina');
hold off;

% matrice ale caror linii vor reprezenta raspunsul sistemului pentru o
% intrare treapta de 60% ( echivalent cu 38.46 RPM ) pentru a testa
% raspunsul motorului fara sarcina
readings_load = zeros(3,200);

% populam randurile matricei cu date obtinute din terminal
readings_load(1,:) = [0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 1.1429 5.1429 7.4286 8.5714 10.2857 11.4286 13.1429 14.2857 16.0000 17.1429 18.2857 20.0000 20.5714 22.8571 23.4286 25.1429 26.8571 27.4286 29.1429 30.8571 31.4286 33.1429 34.8571 35.4286 37.1429 38.8571 40.0000 41.1429 42.2857 44.0000 45.1429 45.1429 45.7143 45.1429 45.1429 44.5714 44.5714 44.5714 44.5714 44.5714 44.0000 44.0000 43.4286 43.4286 44.0000 42.8571 43.4286 43.4286 42.8571 44.0000 42.8571 42.8571 43.4286 42.2857 43.4286 42.8571 42.2857 42.8571 42.8571 42.2857 42.2857 41.1429 40.5714 39.4286 37.7143 37.1429 36.5714 36.0000 37.1429 37.7143 37.7143 37.7143 38.2857 37.7143 37.7143 38.8571 39.4286 40.0000 40.5714 40.0000 41.1429 41.7143 42.2857 42.2857 42.2857 41.7143 40.5714 40.0000 38.8571 38.2857 38.2857 36.0000 36.5714 36.0000 35.4286 36.5714 37.7143 37.1429 37.1429 37.7143 38.8571 40.0000 41.7143 41.1429 41.7143 41.7143 41.1429 40.0000 40.0000 38.8571 39.4286 39.4286 40.0000 40.5714 41.1429 38.8571 38.8571 37.7143 37.7143 38.2857 37.1429 36.5714 36.5714 36.0000 35.4286 36.0000 37.7143 37.1429 37.7143 38.2857 38.8571 40.0000 41.1429 40.5714 39.4286 40.0000 38.8571 38.2857 38.2857 36.5714 37.1429 37.7143 36.5714 37.7143 38.8571 37.7143 37.7143 40.0000 39.4286 40.0000 39.4286 38.2857 37.7143 37.7143 37.1429 37.7143 37.7143 36.5714 36.5714 38.2857 37.7143 37.1429 38.2857 38.8571 38.8571 39.4286 40.0000 38.8571 40.0000 39.4286 37.7143 37.7143 36.5714 35.4286 36.0000 36.5714 34.8571 35.4286 36.5714 36.5714 38.2857 39.4286 38.2857 38.8571 38.8571 38.2857 39.4286 40.5714 40.0000 40.0000 40.5714 40.0000 40.0000];
readings_load(2,:) = [0.0000 0.0000 0.0000 0.0000 0.0000 0.0000 2.2857 5.7143 9.1429 11.4286 13.7143 16.0000 17.7143 20.5714 22.2857 24.0000 26.2857 29.1429 30.2857 33.1429 34.8571 36.5714 38.8571 40.5714 41.1429 42.2857 42.8571 43.4286 43.4286 44.0000 44.0000 44.0000 43.4286 41.7143 41.7143 42.2857 41.1429 41.1429 41.1429 41.7143 40.5714 40.0000 39.4286 39.4286 38.8571 38.8571 38.2857 38.8571 38.8571 38.8571 38.8571 38.8571 37.7143 37.1429 37.1429 37.1429 38.2857 38.8571 40.0000 40.5714 39.4286 38.2857 37.7143 37.7143 37.7143 37.7143 38.2857 38.2857 38.2857 38.8571 38.2857 37.7143 37.7143 37.1429 36.0000 36.5714 36.5714 37.1429 38.2857 38.2857 38.2857 38.2857 38.8571 38.2857 38.8571 37.7143 37.7143 38.2857 38.8571 37.7143 38.2857 37.7143 37.1429 37.7143 38.2857 37.7143 38.2857 38.2857 38.8571 38.8571 39.4286 38.2857 38.2857 37.7143 37.7143 38.2857 37.7143 37.1429 37.7143 37.1429 37.1429 37.7143 37.7143 37.1429 37.7143 37.1429 37.7143 37.1429 37.7143 36.5714 36.5714 37.1429 37.7143 37.1429 37.7143 38.2857 38.2857 38.8571 36.5714 35.4286 35.4286 36.0000 36.0000 36.5714 37.1429 37.7143 38.8571 40.0000 40.0000 40.5714 38.8571 38.8571 40.0000 41.1429 40.0000 40.5714 40.0000 39.4286 40.0000 40.0000 37.7143 37.1429 36.5714 36.5714 37.1429 38.8571 37.7143 39.4286 39.4286 38.2857 39.4286 39.4286 37.7143 37.7143 37.1429 34.8571 35.4286 36.5714 36.0000 37.1429 39.4286 38.2857 39.4286 39.4286 38.2857 37.1429 38.8571 38.2857 37.1429 37.7143 37.7143 35.4286 36.5714 36.5714 36.0000 36.5714 38.8571 38.2857 40.0000 40.0000 39.4286 39.4286 39.4286 36.5714 35.4286 36.0000 35.4286 36.0000 38.2857 38.8571];
readings_load(3,:) = [0.0000 0.0000 0.0000 0.0000 1.1429 6.2857 9.1429 12.5714 14.2857 16.5714 19.4286 20.5714 23.4286 25.1429 27.4286 29.7143 31.4286 33.7143 36.0000 37.7143 38.8571 40.0000 41.1429 41.7143 41.7143 41.7143 41.1429 41.1429 40.5714 40.5714 41.1429 41.1429 40.5714 41.1429 40.5714 40.0000 40.0000 40.0000 40.5714 40.5714 40.0000 40.0000 38.8571 38.8571 38.2857 38.2857 37.7143 38.2857 37.7143 37.1429 37.1429 36.5714 37.1429 38.2857 38.8571 38.8571 38.8571 39.4286 38.8571 38.2857 37.7143 38.2857 37.7143 38.2857 38.2857 38.8571 38.2857 38.2857 38.2857 37.7143 37.1429 37.7143 37.1429 37.1429 37.1429 37.1429 37.7143 37.1429 38.2857 38.2857 37.7143 37.7143 37.1429 36.5714 37.7143 37.7143 37.7143 37.7143 36.5714 37.1429 38.2857 38.8571 38.8571 39.4286 38.8571 38.8571 37.7143 37.1429 37.7143 38.8571 38.2857 38.2857 38.2857 38.8571 38.8571 39.4286 38.8571 38.2857 37.7143 38.2857 37.7143 38.8571 38.8571 37.7143 38.2857 38.2857 38.2857 38.2857 38.2857 38.8571 38.2857 38.2857 38.2857 38.2857 38.8571 37.7143 37.7143 38.2857 38.2857 38.2857 38.8571 38.2857 37.7143 38.2857 37.7143 38.2857 38.2857 38.8571 37.7143 38.2857 38.2857 38.2857 38.8571 38.2857 37.7143 38.8571 38.2857 37.7143 40.0000 40.5714 41.1429 41.7143 41.1429 40.0000 40.0000 40.0000 40.0000 39.4286 39.4286 40.0000 40.0000 40.5714 40.0000 40.0000 39.4286 38.8571 38.2857 38.2857 37.7143 37.7143 38.2857 38.2857 38.2857 38.2857 38.2857 38.2857 38.8571 40.0000 39.4286 38.8571 38.8571 38.8571 39.4286 38.8571 38.8571 38.8571 38.2857 37.7143 37.7143 37.7143 38.8571 38.8571 38.8571 38.2857 37.7143 37.1429 37.7143 37.1429 37.1429 38.8571];

% reprezentam grafic datele obtinute anterior
figure('Name','Raspuns sistem cu sarcina','NumberTitle','off')
plot(time,readings_load(1,:),'LineWidth',1,'Color','b');
hold on;
plot(time,readings_load(2,:),'LineWidth',1,'Color','r');
plot(time,readings_load(3,:),'LineWidth',1,'Color','g');
plot(time,38.4615 * double(time >= 0.15),'LineWidth',1,'Color','m');
xlabel('Timp [s]');
ylabel('Turatie [RPM]');
legend('Citire I','Citire II','Citire III','Referinta');
title('Raspuns sistem cu sarcina');
hold off;